// 서울시 위도 / 경도 : 37° 33' 58" N / 126° 58' 42"
import mongoose from 'mongoose';

// db.getCollection("childcarecenters").find({
//     address: {$regex: ".*서울특별시.*"}
// }).size() // 서울시 어린이집 갯수

// db.getCollection("childcarecenters").aggregate([
//     {$addFields: {
//         location: ["$lng","$lat"]
//     }},
//     {$match: {
//         location: {
//             $geoWithin: {
//               $centerSphere: [[127.0393541, 37.5084279], 5 / 6378.1]
//             }
//           }
//     }}
// ]) //해당 좌표부터 반경 5km 이내의 어린이집 구하기

// db.getCollection('childcarecenters').aggregate([
//   {
//     $addFields: {
//       location: ['$lng', '$lat'],
//     },
//   },
//   {
//     $match: {
//       location: {
//         $geoWithin: {
//           $geometry: {
//             type: 'MultiPolygon',
//             coordinates: [
//               [
//                 [
//                   [126.9967016275144, 37.58139556427919],
//                   [126.997478918792, 37.58197486603193],
//                   [126.9977792655711, 37.58174664879913],
//                   [126.9978533993024, 37.58133617830749],
//                   [126.9981595, 37.5812411],
//                   [126.9991503816341, 37.58135984911622],
//                   [126.99932561379, 37.58132409206053],
//                   [126.9993136331222, 37.58121622145985],
//                   [126.9996970455991, 37.58122337470403],
//                   [126.9997569539019, 37.58119476829246],
//                   [126.9997809174281, 37.58110894868817],
//                   [126.9999905958381, 37.58113517156243],
//                   [127.0005357608606, 37.58126866758106],
//                   [127.0007244720205, 37.58128773760691],
//                   [127.0007334590548, 37.58136878944178],
//                   [127.0008952115358, 37.58136878832594],
//                   [127.0017878468514, 37.58142122352171],
//                   [127.0020184954852, 37.58147366514284],
//                   [127.0019761582345, 37.58177314987327],
//                   [127.0017220446688, 37.58313213835516],
//                   [127.0023982738903, 37.58341773347891],
//                   [127.0029334919772, 37.58398371065118],
//                   [127.0034379290992, 37.58411009268067],
//                   [127.0039232274789, 37.58455109496253],
//                   [127.00394121243, 37.58477279499671],
//                   [127.0042168191456, 37.58505408303854],
//                   [127.0044534854572, 37.58533537189897],
//                   [127.0046871669318, 37.58575969303164],
//                   [127.004923811967, 37.58565717667148],
//                   [127.0051095394089, 37.58567147204231],
//                   [127.0059407376453, 37.58530653894064],
//                   [127.0062897736772, 37.58534243996795],
//                   [127.0065414195429, 37.58554267199729],
//                   [127.0068888839465, 37.58528996121876],
//                   [127.0068828383667, 37.58469875991678],
//                   [127.0072002481613, 37.58346865993003],
//                   [127.0072601224024, 37.58310034706047],
//                   [127.0067628040695, 37.58235183873272],
//                   [127.006870634778, 37.58228985165898],
//                   [127.0069964183803, 37.58201808208881],
//                   [127.0073378838288, 37.58186549310839],
//                   [127.0077871610195, 37.58149834696244],
//                   [127.0083622334163, 37.58106444162159],
//                   [127.0084640415324, 37.58074976229907],
//                   [127.0085359026234, 37.58050183366639],
//                   [127.0089244529921, 37.58042473539638],
//                   [127.0088045746916, 37.5798883714895],
//                   [127.008371691559, 37.57940566732273],
//                   [127.0081709786677, 37.57917444503145],
//                   [127.0080960435764, 37.57869529029617],
//                   [127.0081020097848, 37.57847001320471],
//                   [127.008443426087, 37.57804565857348],
//                   [127.0084703647323, 37.57787878500968],
//                   [127.008389461777, 37.57760702840164],
//                   [127.0085961066012, 37.57735908994442],
//                   [127.0087458320221, 37.57703963892047],
//                   [127.0086963768306, 37.57675000104272],
//                   [127.0073275428296, 37.57661421272753],
//                   [127.0073335304758, 37.57658560578325],
//                   [127.0070489762662, 37.57650218728036],
//                   [127.0069291707261, 37.57653795258943],
//                   [127.0069291669708, 37.57649742661145],
//                   [127.0068423038124, 37.57647836062942],
//                   [127.0068123555177, 37.57652127222088],
//                   [127.0063351234053, 37.57630619603095],
//                   [127.0060618201786, 37.5762931984433],
//                   [127.0056781417262, 37.57609343186322],
//                   [127.0046898454305, 37.57594714249821],
//                   [127.0038957300723, 37.57567183020192],
//                   [127.0032905094801, 37.57555804045092],
//                   [127.0029375381833, 37.57544412292726],
//                   [127.0029808887241, 37.57527047478303],
//                   [127.0023903158004, 37.57522607160063],
//                   [127.0013161068202, 37.57494443581015],
//                   [127.0011770131918, 37.57607247907272],
//                   [126.9993959914261, 37.57588654065424],
//                   [126.9995485, 37.57599600000001],
//                   [126.9996009, 37.57601509999999],
//                   [126.9995602, 37.57608760000002],
//                   [126.9995474, 37.576125],
//                   [126.9994509, 37.5761573],
//                   [126.9994189, 37.57616250000001],
//                   [126.999405, 37.5761572],
//                   [126.9993892, 37.5761271],
//                   [126.9993667, 37.5761312],
//                   [126.9993439, 37.5761221],
//                   [126.9991486, 37.57614169999999],
//                   [126.9990536, 37.5763257],
//                   [126.9990486, 37.5764143],
//                   [126.9989805, 37.5764837],
//                   [126.9988167, 37.5766995],
//                   [126.9987945, 37.5768279],
//                   [126.9988529, 37.57683979999999],
//                   [126.9988182, 37.5769623],
//                   [126.9986164, 37.5769341],
//                   [126.9984152, 37.5768887],
//                   [126.9984767, 37.57668339999999],
//                   [126.9983485, 37.57665539999999],
//                   [126.998346, 37.5766636],
//                   [126.9982294838422, 37.57664200655109],
//                   [126.9980886, 37.5765715],
//                   [126.998063, 37.5765953],
//                   [126.998007, 37.5767025],
//                   [126.9978993, 37.5766818],
//                   [126.9977309, 37.5770632],
//                   [126.9976427, 37.5770424],
//                   [126.9976666, 37.576989],
//                   [126.997446, 37.5769372],
//                   [126.9971676, 37.57692649999999],
//                   [126.9967585086342, 37.57842103184219],
//                   [126.9964120482011, 37.58064535195649],
//                   [126.9964994522438, 37.58106658313191],
//                   [126.9967016275144, 37.58139556427919],
//                 ],
//               ],
//             ],
//           },
//         },
//       },
//     },
//   },
// ]); //멀티폴리곤 1

// db.getCollection('childcarecenters').aggregate([
//   {
//     $addFields: {
//       location: ['$lng', '$lat'],
//     },
//   },
//   {
//     $match: {
//       location: {
//         $geoWithin: {
//           $geometry: {
//             type: 'MultiPolygon',
//             coordinates: [
//               [
//                 [
//                   [126.9891357, 37.5908476],
//                   [126.9890147, 37.59133980000001],
//                   [126.9890843, 37.591409],
//                   [126.989197, 37.5912677],
//                   [126.989222, 37.59125730000001],
//                   [126.9893647, 37.5912832],
//                   [126.9896744, 37.59141499999999],
//                   [126.9898671, 37.5914691],
//                   [126.9905638363806, 37.59156817144671],
//                   [126.9914543921194, 37.59137058141202],
//                   [126.9916779288932, 37.59150933401061],
//                   [126.9917999939347, 37.59170410368921],
//                   [126.9917850095417, 37.5917517801455],
//                   [126.9918628897635, 37.59185667603493],
//                   [126.991997693476, 37.5919401208707],
//                   [126.9921654555142, 37.59198780962159],
//                   [126.992432085921, 37.59198305926864],
//                   [126.9935795149844, 37.59173043652564],
//                   [126.9936724043303, 37.59151112504578],
//                   [126.9938311882484, 37.59144676882572],
//                   [126.994325498033, 37.59145394524994],
//                   [126.9947538839597, 37.59168758481527],
//                   [126.9949485985583, 37.59189975817404],
//                   [126.9951463135152, 37.59205948608248],
//                   [126.9952541536318, 37.59222159395065],
//                   [126.9953590051681, 37.59227404336345],
//                   [126.9956391047841, 37.59223911566185],
//                   [126.9960840086704, 37.59214057265918],
//                   [126.9964015703936, 37.59210244077165],
//                   [126.9965723315645, 37.59214773947443],
//                   [126.9967670587119, 37.59221687733592],
//                   [126.9974231501738, 37.5922145096082],
//                   [126.9977766570405, 37.59233371053128],
//                   [126.9984177672405, 37.59247198559589],
//                   [126.9987353285763, 37.592469605551],
//                   [126.9994573328524, 37.59223122361217],
//                   [126.9999156981702, 37.59221453770653],
//                   [127.0004369768085, 37.5923122757905],
//                   [127.0007635251118, 37.59232419350323],
//                   [127.0009552596107, 37.5923051211098],
//                   [127.0011350075553, 37.59208580304317],
//                   [127.0013806635637, 37.5919046259398],
//                   [127.0017341596779, 37.59135156228528],
//                   [127.001782084782, 37.59101781905218],
//                   [127.0016203072344, 37.59082472748906],
//                   [127.0014914826156, 37.59055296739862],
//                   [127.0014645204864, 37.59054939192314],
//                   [127.0014734999669, 37.59015009266922],
//                   [127.0018599475697, 37.58988905283314],
//                   [127.0021655017021, 37.58943491929175],
//                   [127.0022149234572, 37.58916673233595],
//                   [127.0023632078493, 37.58903442434333],
//                   [127.0028440111287, 37.58876265186676],
//                   [127.0032169742687, 37.58869112600728],
//                   [127.0034191781323, 37.58854808775269],
//                   [127.003459614178, 37.58841935725803],
//                   [127.0034641030861, 37.58831923432275],
//                   [127.0035314970966, 37.58812613834245],
//                   [127.0036752863843, 37.58805104184662],
//                   [127.0039187, 37.5880324],
//                   [127.0039796349902, 37.58791318648317],
//                   [127.0038916, 37.5877474],
//                   [127.0040022, 37.58780320000001],
//                   [127.0040747, 37.5877272],
//                   [127.0041643349507, 37.58728908055473],
//                   [127.0043004422256, 37.58708524048172],
//                   [127.0046063038046, 37.58699433372698],
//                   [127.0059343296281, 37.58690808609233],
//                   [127.0062006288152, 37.58646543563525],
//                   [127.0065281700673, 37.58612691989631],
//                   [127.0065414195429, 37.58554267199729],
//                   [127.0062897736772, 37.58534243996795],
//                   [127.0059407376453, 37.58530653894064],
//                   [127.0051095394089, 37.58567147204231],
//                   [127.004923811967, 37.58565717667148],
//                   [127.0046871669318, 37.58575969303164],
//                   [127.0044534854572, 37.58533537189897],
//                   [127.0042168191456, 37.58505408303854],
//                   [127.00394121243, 37.58477279499671],
//                   [127.0039232274789, 37.58455109496253],
//                   [127.0034379290992, 37.58411009268067],
//                   [127.0029334919772, 37.58398371065118],
//                   [127.0023982738903, 37.58341773347891],
//                   [127.0017220446688, 37.58313213835516],
//                   [127.0019761582345, 37.58177314987327],
//                   [127.0020184954852, 37.58147366514284],
//                   [127.0017878468514, 37.58142122352171],
//                   [127.0008952115358, 37.58136878832594],
//                   [127.0007334590548, 37.58136878944178],
//                   [127.0007244720205, 37.58128773760691],
//                   [127.0005357608606, 37.58126866758106],
//                   [126.9999905958381, 37.58113517156243],
//                   [126.9997809174281, 37.58110894868817],
//                   [126.9997569539019, 37.58119476829246],
//                   [126.9996970455991, 37.58122337470403],
//                   [126.9993136331222, 37.58121622145985],
//                   [126.99932561379, 37.58132409206053],
//                   [126.9991503816341, 37.58135984911622],
//                   [126.9981595, 37.5812411],
//                   [126.9978533993024, 37.58133617830749],
//                   [126.9977792655711, 37.58174664879913],
//                   [126.997478918792, 37.58197486603193],
//                   [126.9967016275144, 37.58139556427919],
//                   [126.9965511, 37.58156679999999],
//                   [126.9965256, 37.5816704],
//                   [126.9965667, 37.5819706],
//                   [126.9964965, 37.5824551],
//                   [126.9962617, 37.58285080000001],
//                   [126.9961632, 37.583159],
//                   [126.9961388, 37.5831562],
//                   [126.9960415, 37.583377],
//                   [126.9960696, 37.5833829],
//                   [126.9960355, 37.5835125],
//                   [126.9959976, 37.583582],
//                   [126.9959705, 37.58356730000001],
//                   [126.9959137, 37.5836315],
//                   [126.9958353, 37.58359540000001],
//                   [126.9951675430271, 37.58425833058239],
//                   [126.9946919585124, 37.58487513853909],
//                   [126.9945721195808, 37.58510458131252],
//                   [126.9941564554507, 37.58548002217655],
//                   [126.993928017467, 37.58578693485968],
//                   [126.9938456239308, 37.58596572138887],
//                   [126.9938830672301, 37.58598658226102],
//                   [126.9936583540288, 37.58649463421683],
//                   [126.9932801163414, 37.58694457006271],
//                   [126.993179013773, 37.58694158441762],
//                   [126.9929955219126, 37.58703692874501],
//                   [126.9930928726138, 37.58712037016956],
//                   [126.9934036614987, 37.58722766240062],
//                   [126.9934879056179, 37.58732600199292],
//                   [126.9921361257056, 37.58723652429895],
//                   [126.9904248777846, 37.58709634512941],
//                   [126.9895298735158, 37.58748960879072],
//                   [126.9893688367896, 37.58762964714665],
//                   [126.9887322611171, 37.58760574933076],
//                   [126.9882080637251, 37.58732559262349],
//                   [126.9879384567039, 37.58731364599857],
//                   [126.987736258339, 37.58726296778414],
//                   [126.9876800893649, 37.58726594178091],
//                   [126.9876875593539, 37.58738215654882],
//                   [126.9880020636619, 37.58762951613416],
//                   [126.9879345865982, 37.58809138532227],
//                   [126.9878072432249, 37.58825526373552],
//                   [126.9878633834233, 37.58843406024176],
//                   [126.9880056499746, 37.58861584534429],
//                   [126.9879644393357, 37.58873801480161],
//                   [126.9880542716306, 37.58898237122388],
//                   [126.9882592895593, 37.58894707372984],
//                   [126.9883993830312, 37.58934191345484],
//                   [126.9887052244102, 37.58946391934818],
//                   [126.9890179, 37.5896213],
//                   [126.9891357, 37.5908476],
//                 ],
//               ],
//             ],
//           },
//         },
//       },
//     },
//   },
// ]); //멀티폴리곤 2
